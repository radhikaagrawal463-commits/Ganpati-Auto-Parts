<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Login / Signup - Auto Parts</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    body {
      min-height:100vh;
      margin:0;
      background: #0f0f0f;
      display: flex; align-items: center; justify-content: center;
      font-family: 'Segoe UI', Arial, sans-serif;
    }
    .login-container {
      background: #fff;
      margin: 48px 0;
      border-radius: 14px;
      padding: 38px 32px 28px 32px;
      box-shadow: 0 10px 48px 0 rgba(130,30,60,0.17);
      max-width: 360px;
      width: 100%;
      animation: fadeinmove 1s cubic-bezier(0.25,0.1,0.25,1);
    }
    @keyframes fadeinmove {
      0% { opacity: 0; transform: translateY(36px);}
      100% { opacity: 1; transform: translateY(0);}
    }
    .login-title {
      text-align: center;
      font-weight: bold;
      font-size: 2em;
      margin-bottom: 27px;
    }
    .login-tabs {
      display: flex; width:100%; margin-bottom: 16px;
      border-radius:8px; box-shadow: 0 1px 1.5px 0 rgba(120,30,80,0.05);
      overflow: hidden;
    }
    .login-tab {
      flex: 1; padding: 10px 0; cursor: pointer; border: none;
      background: #eee; font-size:1.16em; color:#333; font-weight: 500;
      transition: background .19s, color .14s;
      outline: none;
    }
    .login-tab.active {
      background: linear-gradient(90deg,#9245e8, #ff2d2c 90%);
      color: #fff;
      font-weight: 600;
      box-shadow:none;
    }
    .form-group { margin-bottom: 17px; }
    .login-input {
      width: 100%; padding: 12px;
      border: 1.1px solid #e3e3e3;
      border-radius: 5px;
      font-size: 1.1em;
      outline: none;
      transition: border .17s;
      background: #fafbfc;
      color: #181818;
    }
    .login-input:focus { border: 1.2px solid #ff2d2c;}
    .forgot-link {
      display: block;
      font-size: 0.98em;
      color: #e63d7b;
      text-decoration: none;
      margin-bottom: 11px;
      margin-left: 2px;
      font-weight: 400;
    }
    .login-btn {
      width: 100%; padding: 12px;
      border: none;
      background: linear-gradient(90deg,#9245e8 8%, #ff2d2c 78%);
      color: #fff;
      font-size: 1.18em;
      font-weight: bold;
      border-radius: 6px;
      margin-top: 10px;
      transition: background .14s;
      cursor:pointer;
      box-shadow: 0 3px 18px 0 rgba(254,45,44,0.17);
    }
    .login-bottom {
      text-align: center;
      margin-top: 13px;
      color: #222;
      font-size: 1em;
    }
    .login-bottom a {
      color: #e64288;
      text-decoration: none;
      font-weight: bold;
    }
    #bgVideo {
  position: fixed;
  right: 0;
  bottom: 0;
  min-width: 100vw;
  min-height: 100vh;
  width: auto;
  height: auto;
  z-index: -1;
  object-fit: cover;
}
    .msg {margin:10px 0;text-align:center;font-size:1em;color:#e63d7b;}
  </style>
</head>
<body>
     <video autoplay muted loop id="bgVideo">
    <source src="./images/176533-855914675_tiny.mp4" type="video/mp4">
  </video>
  <div class="login-container">
    <div class="login-title">Login Form</div>
    <div class="login-tabs">
      <button class="login-tab active" id="tabLogin" onclick="showTab('login')">Login</button>
      <button class="login-tab" id="tabSignup" onclick="showTab('signup')">Signup</button>
    </div>
    <!-- Login form -->
    <form id="loginForm">
      <div class="form-group">
        <input type="email" class="login-input" name="email" placeholder="Email Address" required />
      </div>
      <div class="form-group">
        <input type="password" class="login-input" name="password" placeholder="Password" required />
      </div>
      <a href="#" class="forgot-link">Forgot password?</a>
      <button type="submit" class="login-btn">Login</button>
      <div class="msg" id="loginMsg"></div>
      <div class="login-bottom">Not a member? <a href="#" onclick="showTab('signup');return false;">Signup now</a></div>
    </form>
    <!-- Signup form -->
    <form id="signupForm" style="display:none;">
      <div class="form-group">
        <input type="text" class="login-input" name="name" placeholder="Your Name" required />
      </div>
      <div class="form-group">
        <input type="email" class="login-input" name="email" placeholder="Email Address" required />
      </div>
      <div class="form-group">
        <input type="password" class="login-input" name="password" placeholder="Password" required />
      </div>
      <button type="submit" class="login-btn">Signup</button>
      <div class="msg" id="signupMsg"></div>
      <div class="login-bottom">Already have an account? <a href="#" onclick="showTab('login');return false;">Login</a></div>
    </form>
  </div>
  <script>
    function showTab(tab) {
      document.getElementById("tabLogin").classList.toggle("active", tab === "login");
      document.getElementById("tabSignup").classList.toggle("active", tab === "signup");
      document.getElementById("loginForm").style.display = tab === "login" ? "" : "none";
      document.getElementById("signupForm").style.display = tab === "signup" ? "" : "none";
    }

    document.getElementById("loginForm").addEventListener("submit", async function(e){
      e.preventDefault();
      const msgDiv = document.getElementById("loginMsg");
      msgDiv.textContent = "";
      const email = this.email.value, password = this.password.value;
      const res = await fetch("http://localhost:5000/api/auth/login", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ email, password })
      });
      const result = await res.json();
      if(res.ok && result.token) {
        msgDiv.style.color = "#3ec965";
        msgDiv.textContent = "Login successful!";
        setTimeout(() => window.location = "index.html", 1200);
      } else {
        msgDiv.style.color = "#e63d7b";
        msgDiv.textContent = result.msg || "Login failed!";
      }
    });

    document.getElementById("signupForm").addEventListener("submit", async function(e){
      e.preventDefault();
      const msgDiv = document.getElementById("signupMsg");
      msgDiv.textContent = "";
      const name = this.name.value, email = this.email.value, password = this.password.value;
      const res = await fetch("http://localhost:5000/api/auth/register", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ name, email, password })
      });
      const result = await res.json();
      if(res.ok && result.token) {
        msgDiv.style.color = "#3ec965";
        msgDiv.textContent = "Signup successful! You can login now.";
        setTimeout(() => showTab("login"), 1500);
      } else {
        msgDiv.style.color = "#e63d7b";
        msgDiv.textContent = result.msg || "Signup failed!";
      }
    });
  </script>
</body>
</html>
